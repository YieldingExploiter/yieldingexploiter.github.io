// libs
const fs = require('fs'),
	path = require('path');
const svgjs = require('svg.js'),
	svgdom = require('svgdom');

// stuff
const window = svgdom.createSVGWindow();
const svg = svgjs(window);
const document = window.document;
const canvas = svg(document.documentElement);

const text = [
	['yielding@yieldingexploiter.github.io', '#88e233'],
	[':', '#fbfdfd'],
	['~', '#5e94bd'],
	['$ ', '#fbfdfd'],
	['cat README.txt\n', '#ffffff'],
	[
		fs.readFileSync(path.resolve(__filename, '..', '_svg.README.txt'), 'utf-8'),
		'#ffffff',
	],
	['\nyielding@yieldingexploiter.github.io', '#88e233'],
	[':', '#fbfdfd'],
	['~', '#5e94bd'],
	['$ ', '#fbfdfd'],
];

const _text = canvas.text('');
_text.build(true);

text.forEach(v => {
	_text.tspan(v[0]).fill(v[1]);
});

_text.build(false);

// export svg
fs.writeFileSync('img/console.svg', canvas.svg);
